<div class="heading">
  <h1>All Profiles</h1>
</div>

<div class="main-container">
  <div class="sidenav">
    <app-dashboard-sidenav
      (roleSelected)="onRoleSelected($event)"
    ></app-dashboard-sidenav>
  </div>

  <table class="profile-table" *ngIf="selectedRole !== 'ADVISORS'">
    <tbody>
      <tr class="profile-item">
        <th></th>
        <th class="align">Username</th>
        <th>Profile</th>
        <th>Status</th>
        <th>Inactivate the user</th>
        <!-- class="align" -->
      </tr>
      <tr
        *ngFor="let profile of allProfiles"
        class="profile-item"
        id="uniqueProfileId"
        (click)="openProfileModal(profile.id)"
      >
        <td class="profile-placeholder">
          {{ getInitials(profile.name) }}
        </td>
        <td>
          <h3>{{ profile.name }}</h3>
        </td>
        <td>{{ profile.role }}</td>
        <td [ngStyle]="getStatusStyles(profile.status)">
          {{ profile.status }}
        </td>
        <button
          mat-raised-button
          color="primary"
          (click)="onToggleUserActivation(profile.id, $event)"
        >
          {{ profile.isActive ? "Activate" : "Inactivate" }} the user
        </button>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="5" style="padding: 0">
          <app-shared-pagination
            [totalRecordsCount]="pagination.totalElements"
            (pageChange)="onPageChange($event, false)"
          ></app-shared-pagination>
        </td>
      </tr>
    </tfoot>
  </table>
  <table class="profile-table" *ngIf="selectedRole === 'ADVISORS'">
    <tbody>
      <tr class="profile-item">
        <th></th>
        <th class="align">Username</th>
        <th style="font-size: large">Profile</th>
        <th style="font-size: large">Edit Profile</th>
        <!-- class="align" -->
      </tr>
      <tr
        *ngFor="let profile of advisorProfiles"
        class="profile-item"
        (click)="navigateToAdvisorProfiles(profile.id)"
      >
        <td class="profile-placeholder">{{ getInitials(profile.name) }}</td>
        <td>
          <h3>{{ profile.name }}</h3>
        </td>
        <td>{{ profile.jobTitle }}</td>
        <td><button mat-raised-button color="primary">Edit Profile</button></td>
      </tr>
    </tbody>
  </table>
  <!-- <app-shared-pagination
    [totalRecordsCount]="pagination1.totalElements"
    (pageChange)="onPageChange1($event)"
  ></app-shared-pagination> -->
</div>
